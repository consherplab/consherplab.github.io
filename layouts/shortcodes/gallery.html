{{ $cfg := site.Data.gallery }}
{{ if $cfg }}
  {{ $imgs := shuffle ($cfg.images) }}

  <style>
    .ch-gallery {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
      gap: 10px;           /* equal spacing horizontally and vertically */
      line-height: 0;      /* remove inline image whitespace */
      margin: 0;
      padding: 0;
    }
    .ch-gallery a {
      display: block;
      overflow: hidden;
      border-radius: 4px;
      margin: 0;
      padding: 0;
    }
    .ch-gallery .tile {
      position: relative;
      width: 100%;
      padding-top: 100%;   /* 1Ã—1 square */
      overflow: hidden;
    }
    .ch-gallery img {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;      /* remove bottom gap */
      transition: transform 0.35s ease;
    }
    .ch-gallery a:hover img {
      transform: scale(1.08); /* subtle zoom on hover */
    }
  </style>

  <div class="ch-gallery">
    {{ range $imgs }}
      <a href="{{ . }}" target="_blank" rel="noopener">
        <div class="tile">
          <img src="{{ . }}" alt="">
        </div>
      </a>
    {{ end }}
  </div>
{{ else }}
  <p style="color:#b00">gallery.yaml missing in /data</p>
{{ end }}
